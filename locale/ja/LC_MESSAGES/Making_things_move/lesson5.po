# SOME DESCRIPTIVE TITLE.
# Copyright (C) 2017, AnyBody Technology
# This file is distributed under the same license as the AnyBody Tutorials
# package.
# FIRST AUTHOR <EMAIL@ADDRESS>, 2017.
#
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: AnyBody Tutorials 7.1\n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2017-12-08 15:42+0100\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=utf-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Generated-By: Babel 2.4.0\n"

#: ../../Making_things_move/lesson5.rst:4
msgid "Lesson 5: Using real data"
msgstr ""

#: ../../Making_things_move/lesson5.rst:6
msgid ""
"Without further ado, let us import a real C3D file and drive a complete "
"model."
msgstr ""

#: ../../Making_things_move/lesson5.rst:9
msgid ""
"The AnyBody Modeling System offers you virtually unlimited ways of doing "
"things, and probably more than the average user can comprehend, so we are"
" going to start with a simple and top-down procedure."
msgstr ""

#: ../../Making_things_move/lesson5.rst:13
msgid ""
"The AnyBody Model Repository (> 2.0), contains some pre-cooked examples "
"which are easy to drive with your own data and which contain some really "
"neat features for data processing."
msgstr ""

#: ../../Making_things_move/lesson5.rst:18
msgid ""
"Make sure you have installed a your own copy of the AnyBody Model "
"repository (AMMR). See the :ammr:ref:`AMMR documentation "
"<installing_ammr>`."
msgstr ""

#: ../../Making_things_move/lesson5.rst:21
msgid "Go to the folder :file:`Application/MocapExamples/Plug-in-gait_Simple`."
msgstr ""

#: ../../Making_things_move/lesson5.rst:23
msgid "Open :file:`LowerExtremity.main.any` in the AnyBody Modeling System"
msgstr ""

#: ../../Making_things_move/lesson5.rst:25
msgid ""
"This is a gait model of comprising only the lower extremities and the "
"necessary part of the upper body for attachment of muscles. The model is "
"based on a C3D file with \"Plug In gait\" marker protocol, and three "
"force platforms. You can easily modify this to any other movement, simply"
" by importing a different C3D file to drive the model with."
msgstr ""

#: ../../Making_things_move/lesson5.rst:31
msgid "``LowerExtremity.main.any``"
msgstr ""

#: ../../Making_things_move/lesson5.rst:50
msgid "The model defines three section/files which must be customized."
msgstr ""

#: ../../Making_things_move/lesson5.rst:52
msgid ":file:`LabSpecificData.any`"
msgstr ""

#: ../../Making_things_move/lesson5.rst:53
msgid ":file:`SubjectSpecificData.any`"
msgstr ""

#: ../../Making_things_move/lesson5.rst:54
msgid ":file:`TrialSpecificData.any`."
msgstr ""

#: ../../Making_things_move/lesson5.rst:56
msgid ""
"Following this structure is not strictly necssary, but good practice. "
"Finally, on line 13 we include the *AnyMocap* framework or base model."
msgstr ""

#: ../../Making_things_move/lesson5.rst:59
msgid ""
"Now please load the model and open up a new Model View. You should see "
"the following model:"
msgstr ""

#: ../../Making_things_move/lesson5.rst:64
msgid ""
"The model consist of number of operations which must be executed in the "
"correct order. The flow of the model is illustrated in the following "
"figure."
msgstr ""

#: ../../Making_things_move/lesson5.rst:71
msgid ""
"Illustration of the three processes for the Mocap models. Parameter "
"identification, Marker tracking, and Inverse Dynamic analysis. See `Lund "
"et al. 2015 "
"<https://doi.org/10.1080/23335432.2014.993706>`_ for "
"a detailed dicussion on different approches to MoCap analysis."
msgstr ""

#: ../../Making_things_move/lesson5.rst:78
msgid "Parameter identification"
msgstr ""

#: ../../Making_things_move/lesson5.rst:80
msgid ""
"If you look closely at the model view you can see that the skeleton is "
"equipped with markers and if you zoom in a little, you can also see that "
"the markers carry small coordinate systems with red and green arrows."
msgstr ""

#: ../../Making_things_move/lesson5.rst:94
msgid ""
"These are the marker points defined on the human body, and the :red:`red`"
" and :green:`green` arrows designate directions in which the marker "
"position is fixed versus free to be optimized. A free marker position is "
"one that is not well-known by the clinician."
msgstr ""

#: ../../Making_things_move/lesson5.rst:99
msgid ""
"So why would we be in doubt about the position of a marker that we have "
"placed? Well, clinicians place markers on the skin at an unknown distance"
" from the bone, and even when a marker is placed on a bony landmark just "
"below the skin, we are never quite sure which point that corresponds to "
"in the boneâ€™s local coordinate system. If we get those points wrong, the "
"resulting motion of the model will also be inaccurate."
msgstr ""

#: ../../Making_things_move/lesson5.rst:106
msgid ""
"So the green arrows designate directions in which we have the greatest "
"uncertainty about whether the marker is placed in the model as it was in "
"the experiment. The good news is that we can optimize those marker "
"placements exactly as we did in :doc:`lesson 4 <lesson4>`."
msgstr ""

#: ../../Making_things_move/lesson5.rst:111
msgid ""
"The model is set up to do this automatically, and if you are happy with "
"the choice that has been made, you need not do anymore."
msgstr ""

#: ../../Making_things_move/lesson5.rst:114
msgid ""
"If you use a different marker protocol, or customize what is optimized "
"you will need to modify the marker protocol. In this example, the marker "
"protocol is define in the file The :file:`Setup/MarkerProtocol.any`. In "
"the interest of simplicity, we shall postpone the discussion of the "
"marker protocol setup."
msgstr ""

#: ../../Making_things_move/lesson5.rst:120
msgid ""
"In addition to the marker coordinates, the model considers the segment "
"lengths to be variable, so the computation we are about to do will also "
"automatically figure out how long the segments are, and thereby where the"
" joints are placed."
msgstr ""

#: ../../Making_things_move/lesson5.rst:125
msgid ""
"Pretty much any parameter in a model can be made variable in the "
"optimization study. But some parameters will be determined well by the "
"marker trajectory data and not all parameters can be determined at the "
"same time because the mocap data only contains limited information."
msgstr ""

#: ../../Making_things_move/lesson5.rst:130
msgid ""
"For instance, if the model has no movement about a specific joint, then "
"it is not possible to get information about the location of that joint or"
" about the lengths of adjacent segments from the marker data."
msgstr ""

#: ../../Making_things_move/lesson5.rst:136
msgid "Running Parameter identification"
msgstr ""

#: ../../Making_things_move/lesson5.rst:138
msgid "Without further ado, let us perform the optimization:"
msgstr ""

#: ../../Making_things_move/lesson5.rst:140
msgid ""
"Find the ``Main.RunParameterOptimzation`` in the operations dropdown, and"
" run it."
msgstr ""

#: ../../Making_things_move/lesson5.rst:142
#: ../../Making_things_move/lesson5.rst:314
msgid "|Opertions RunModtionAndParameterOpt|"
msgstr ""

#: ../../Making_things_move/lesson5.rst:144
msgid ""
"You will see the model walking repeatedly over the force platforms, "
"sometimes slowly and sometimes a bit faster depending on the speed of "
"your computer and the progress of the computation."
msgstr ""

#: ../../Making_things_move/lesson5.rst:148
msgid "The process is speeded up significantly if you switch off the Model View."
msgstr ""

#: ../../Making_things_move/lesson5.rst:150
msgid ""
"When operation is done you will see the line ``Optimization converged`` "
"in the *Output* windows and final lines will be:"
msgstr ""

#: ../../Making_things_move/lesson5.rst:158
msgid ""
"It means that things have gone fine, the optimization has converged, and "
"the optimized values of the variable parameters have been saved on a text"
" file for later use."
msgstr ""

#: ../../Making_things_move/lesson5.rst:162
msgid ""
"Before we continue, let us ponder for a moment when it is necessary to "
"perform this optimization. The results of the optimization in summary are"
" the following:"
msgstr ""

#: ../../Making_things_move/lesson5.rst:166
msgid "Updated anthropometrical parameters."
msgstr ""

#: ../../Making_things_move/lesson5.rst:168
msgid "Updated marker locations."
msgstr ""

#: ../../Making_things_move/lesson5.rst:170
msgid ""
"Within a brief time we can safely presume that the first is constant for "
"a particular test subject. This means that if we have once and for all "
"determined and saved the anthropometrical parameters of this subject, "
"then we probably need not include them in the optimization again."
msgstr ""

#: ../../Making_things_move/lesson5.rst:175
msgid ""
"We can usually presume that the marker locations on the body are constant"
" within a given trial or series of trials performed with the same subject"
" with the same markers attached. However, if the markers have been "
"detached or relocated, then obviously the optimization of marker "
"positions must be done again."
msgstr ""

#: ../../Making_things_move/lesson5.rst:180
msgid ""
"However, for most cases, the computational effort of performing the "
"optimization with all the parameters is modest, to the casual user may "
"elect to simply redo the full optimization for each trial as we shall do "
"later in this tutorial."
msgstr ""

#: ../../Making_things_move/lesson5.rst:186
msgid "Marker tracking and Inverse dynamics"
msgstr ""

#: ../../Making_things_move/lesson5.rst:188
msgid ""
"Let us proceed with the kinematic analysis. As we saw in :doc:`lesson2` "
"marker based models usually require an over-determinate kinematic solver "
"to handle the excess in information that the optical markers provide. The"
" over-determinate solver in AMS works great, but it will calculate "
"velocities and accelerations numerically. That has some performance "
"issues when running inverse dynamics analysis. To overcome the problem, "
"the MOCAP analysis is split into a two-step producedure, as illustrated "
"on  figure :numref:`model_flow_chart`, separating the Marker tracking "
"from the Inverse dynamic analysis."
msgstr ""

#: ../../Making_things_move/lesson5.rst:197
msgid ""
"The overdeterminate kinematic analysis solves the model for positions, "
"and stores the joint angles as function of time. This step is the "
"\"Marker tracking\" step in figure :numref:`model_flow_chart`. These "
"joint angles are then used in the second step with the determinate "
"kinematic solver in the inverse dynamic analysis."
msgstr ""

#: ../../Making_things_move/lesson5.rst:204
msgid ""
"In the Model the *Marker tracking* and *Inverse Dynamics* are combined "
"into single operation called ``Main.RunAnalysis``."
msgstr ""

#: ../../Making_things_move/lesson5.rst:209
msgid ""
"The operation contains everything that is necessary to run the analysis: "
"It loads the optimized model parameters that were saved previously; it "
"run the marker tracking, and if necessary performs calibration movements "
"to adjust the tendon lengths to the lengths of the bones; and finally "
"executes a dynamic analysis to determine forces in the system. Run the "
"analysis by selecting it from the Operations dropdown, and click \"Run\"."
msgstr ""

#: ../../Making_things_move/lesson5.rst:216
msgid ""
"After the kinematic Marker tracking, the muscles are switched on, and the"
" inverse dyanamic analysis starts. This step will usually be the slowest,"
" due to the very high amount of detail of the model, requiring the "
"computer to continuously calculate forces in more than 300 muscles. When "
"the analysis is finished, you can open up a Chart view and investigate "
"the results, for instance the hip joint reaction forces:"
msgstr ""

#: ../../Making_things_move/lesson5.rst:226
msgid "Importing new motion data"
msgstr ""

#: ../../Making_things_move/lesson5.rst:228
msgid ""
"So we have seen the model optimize its parameters and we have seen it "
"perform a dynamic analysis on existing data that somebody else has "
"defined. But here comes the real point of the application:"
msgstr ""

#: ../../Making_things_move/lesson5.rst:232
msgid "**Processing a different motion is exactly the same**!"
msgstr ""

#: ../../Making_things_move/lesson5.rst:234
msgid ""
"All we have to do is to replace the C3D file containing the motion data. "
"The MoCapModel folder already contains a few C3D files located in the "
"subfolder Input that we can try. All we have to do is to make the model "
"point at a different file. A few lines into the Main file, you find this:"
msgstr ""

#: ../../Making_things_move/lesson5.rst:245
msgid ""
"This file contains the settings you typically want to change when "
"switching trials."
msgstr ""

#: ../../Making_things_move/lesson5.rst:247
msgid ""
"Double-click the ``TrialSpecificData.any`` file name, and the file opens "
"up in a new tab. Then, just a few lines down, refer to the new filename "
"into the model:"
msgstr ""

#: ../../Making_things_move/lesson5.rst:256
msgid ""
"Since this is a new C3D file from a new trial, we also need to run the "
"kinematic optimization again."
msgstr ""

#: ../../Making_things_move/lesson5.rst:259
msgid ""
"This is all there is to it. We can now reload the model. To see the model"
" moving (without doing the parameter optimization just now), locate and "
"run the Kinematics (Marker tracking) operation in the Operation tree:"
msgstr ""

#: ../../Making_things_move/lesson5.rst:263
msgid "|Operations, kinematics|"
msgstr ""

#: ../../Making_things_move/lesson5.rst:265
msgid ""
"The movement seems to work fine and you will notice that this gait "
"pattern is a little different from before. The steps are longer and the "
"posture indicates that this is a person in a hurry."
msgstr ""

#: ../../Making_things_move/lesson5.rst:269
msgid "|Model view, marker tracking|"
msgstr ""

#: ../../Making_things_move/lesson5.rst:271
msgid ""
"Now is the time to run the ``Main.ParameterIdentification``.  It takes a "
"bit of time, and again you can speed up the process by switching off the "
"update of the Model View window. Eventually, the process comes to an end "
"and you get the message:"
msgstr ""

#: ../../Making_things_move/lesson5.rst:288
msgid ""
"Next, we run the combined *Marker tracking* and *Inverse dynamics* "
"(``Main.RunAnalysis``) operation."
msgstr ""

#: ../../Making_things_move/lesson5.rst:290
msgid ""
"Which, after the analysis can provide a new hip joint force profile "
"documenting that faster gait leadt to higher hip joint forces."
msgstr ""

#: ../../Making_things_move/lesson5.rst:296
msgid "Using full-body models"
msgstr ""

#: ../../Making_things_move/lesson5.rst:298
msgid ""
"Many motion experiments deal with the entire body as opposed to just the "
"lower extremities. The Model Repository contains another pre-cooked model"
" for this purpose, and it will reveal that there is more data in the C3D "
"file we just imported than we saw in lower extremity model."
msgstr ""

#: ../../Making_things_move/lesson5.rst:303
msgid ""
"Open the full body example model ``Plug-in-"
"gait_Simple/FullBody.main.any``, then run "
"``Main.ParameterIdentification``"
msgstr ""

#: ../../Making_things_move/lesson5.rst:306
msgid ""
"Please load the model and open a Model View if you do not already have "
"one. You will see the model as before, but now with the arms included."
msgstr ""

#: ../../Making_things_move/lesson5.rst:309
msgid "|Model view Fullbody initial load|"
msgstr ""

#: ../../Making_things_move/lesson5.rst:311
msgid ""
"Select and run the RunMotionAndParameterOptimizationSequence in the "
"Operations tree:"
msgstr ""

#: ../../Making_things_move/lesson5.rst:316
msgid ""
"The model starts walking repeatedly over the force platforms including "
"the arm motions while it tries to optimize segment lengths and marker "
"positions. It takes 7 iterations and more time than before to optimize "
"the model because this is a much larger problem, but as before you can "
"speed up the process if you switch off the update of the Model View "
"Window. It is possible to monitor the convergence of the optimization "
"problem from a Chart window like this:"
msgstr ""

#: ../../Making_things_move/lesson5.rst:324
msgid "|Chart view, Kin objective|"
msgstr ""

#: ../../Making_things_move/lesson5.rst:326
msgid ""
"Eventually, the optimization process terminates and you can switch run "
"the *Marker tracking* and *inverse dynamics* (``Main.RunAnalysis``) and "
"perform the analysis of the entire body including the muscle forces."
msgstr ""

#: ../../Making_things_move/lesson5.rst:330
msgid ""
"This full-body model with almost 1000 muscles fasicles takes considerable"
" more time to analyze but will reward you with very detailed information "
"about the function of the muscle system in gait as illustrated below."
msgstr ""

#: ../../Making_things_move/lesson5.rst:334
msgid "|Model view, full body inverse dynamics|"
msgstr ""

#: ../../Making_things_move/lesson5.rst:337
msgid ""
"The final lesson of this tutorial is about problems that may arise with "
"C3D files."
msgstr ""

#: ../../Making_things_move/lesson5.rst:342
msgid "**Next lesson:** :doc:`lesson6`."
msgstr ""

#: ../../Making_things_move/lesson5.rst:376
msgid "noindex"
msgstr ""

